<header class="topbar glass">
  <div class="brand">
    <h1>iv-flow</h1>
    <p>Editor visual de automatizaciÃ³n e IA</p>
  </div>
  <div class="actions">
    <input [ngModel]="flowName" (ngModelChange)="flowNameChange.emit($event)" placeholder="Nombre del flujo" />
    <button class="primary" (click)="newFlow.emit()">Nuevo</button>
    <button (click)="undo.emit()">Deshacer</button>
    <button (click)="redo.emit()">Rehacer</button>
    <button (click)="validateFlow.emit()">Validar</button>
    <button class="primary" (click)="runFlow.emit()" [disabled]="running">Run</button>
    <button (click)="saveFlow.emit()">Guardar</button>
    <button (click)="toggleContentManager.emit()">Gestor de Contenido</button>
    <button (click)="toggleMarkdownStudio.emit()">Markdown Studio</button>
    <button (click)="toggleDarkMode.emit()">{{ darkMode ? 'â˜€ï¸' : 'ğŸŒ™' }}</button>
    <button (click)="exportFlow.emit()">Exportar JSON</button>
    <button (click)="exportFlowAsMarkdown.emit()">Exportar MD</button>
    <label class="file-input">
      Importar
      <input type="file" accept="application/json" (change)="importFlow.emit($event)" />
    </label>
  </div>
</header>

<section class="tutorial" *ngIf="showTutorial">
  <div class="tutorial-wrap">
    <div class="tutorial-content">
      <strong>Tutorial:</strong> {{ tutorialText }}
      <button (click)="nextTutorialStep.emit()">Siguiente paso</button>
    </div>
    <div class="demo-actions">
      <button *ngFor="let demo of demos; let i = index" (click)="loadDemo.emit(i)">Cargar {{ demo.name }}</button>
    </div>
  </div>
  <button class="close-tutorial" (click)="closeTutorial.emit()">âœ•</button>
</section>
