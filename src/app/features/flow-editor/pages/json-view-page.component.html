<section class="panel">
  <header class="panel-header">
    <h2>Vista JSON</h2>
    <p>Importa/exporta el flujo actual y usa el editor avanzado para ajustes manuales del modelo.</p>
  </header>

  <div class="actions" aria-label="Acciones de gestiÃ³n">
    <button type="button" class="btn" (click)="downloadJson()">Descargar JSON</button>
    <label class="file-label">
      Importar archivo JSON
      <input
        #fileInput
        type="file"
        accept="application/json,.json"
        (change)="onFilePicked($event)"
      />
    </label>
  </div>

  <label>
    Editor avanzado (textarea)
    <textarea
      rows="18"
      [ngModel]="jsonDraft()"
      (ngModelChange)="onJsonDraftChange($event)"
      spellcheck="false"
    ></textarea>
  </label>

  <button type="button" class="btn" (click)="loadFromTextarea()">Cargar desde textarea</button>

  @if (message(); as infoMessage) {
    <p class="message success">{{ infoMessage }}</p>
  }

  @if (error(); as errorMessage) {
    <p class="message error">{{ errorMessage }}</p>
  }
</section>
