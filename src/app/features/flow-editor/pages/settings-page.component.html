<section class="panel">
  <header class="panel-header">
    <h2>Configuración de almacenamiento</h2>
    <p>
      Gestiona el estado persistido en <code>localStorage</code>: cargar cambios, editar manualmente y
      restaurar una base limpia.
    </p>
  </header>

  <div class="actions" aria-label="Acciones de gestión">
    <button type="button" class="btn" (click)="loadFromStorage()">Cargar desde localStorage</button>
    <button type="button" class="btn" (click)="saveStorageDraft()">Guardar cambios</button>
    <button type="button" class="btn btn-danger" (click)="clearStorage()">
      Eliminar localStorage
    </button>
  </div>

  <label>
    Contenido de localStorage (JSON)
    <textarea
      rows="18"
      [ngModel]="storageDraft()"
      (ngModelChange)="updateStorageDraft($event)"
      spellcheck="false"
    ></textarea>
  </label>

  @if (message(); as infoMessage) {
    <p class="message success">{{ infoMessage }}</p>
  }

  @if (error(); as errorMessage) {
    <p class="message error">{{ errorMessage }}</p>
  }
</section>
